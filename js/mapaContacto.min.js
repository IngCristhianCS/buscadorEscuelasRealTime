var marker;var marker1;var start;var end;var map;var fenway;function inicializa(){var d=new google.maps.DirectionsService;var b=new google.maps.DirectionsRenderer;
var e=navigator.userAgent.toLowerCase();fenway={lat:19.3170351,lng:-98.8794555};map=new google.maps.Map(document.getElementById("map"),{center:fenway,scrollwheel:false,zoom:12,streetViewControl:false,disableDoubleClickZoom:false,disableDefaultUI:true,zoomControl:false,mapTypeControlOptions:{position:google.maps.ControlPosition.BOTTOM_LEFT}});
b.setMap(map);var a=new google.maps.StreetViewPanorama(document.getElementById("pano"),{position:fenway,zoom:1,scrollwheel:false,disableDoubleClickZoom:false,disableDefaultUI:true,zoomControl:false,pov:{heading:104.93052220567898,pitch:-2.8160690472411276,},disableDefaultUI:true});
map.setStreetView(a);var c=document.getElementById("save-widget");map.controls[google.maps.ControlPosition.TOP_LEFT].push(c);marker=new google.maps.Marker({map:map,position:fenway,animation:google.maps.Animation.DROP,title:"Direccion de Educacion"});
marker.addListener("click",function(){map.setZoom(15);map.setCenter(marker.getPosition());});if(navigator.geolocation){navigator.geolocation.getCurrentPosition(function(f){var g={lat:f.coords.latitude,lng:f.coords.longitude};
marker1=new google.maps.Marker({map:map,position:g,draggable:true,animation:google.maps.Animation.DROP,title:"Mi Ubicacion"});calculateAndDisplayRoute(d,b);
document.getElementById("mode").addEventListener("change",function(){calculateAndDisplayRoute(d,b);});marker1.addListener("dragend",function(){calculateAndDisplayRoute(d,b);
});infoWindow.setPosition(g);infoWindow.setContent("Location found.");map.setCenter(g);},function(){handleLocationError(true,infoWindow,map.getCenter());
});}else{handleLocationError(false,infoWindow,map.getCenter());}}function calculateAndDisplayRoute(b,a){var c=document.getElementById("mode").value;end=new google.maps.LatLng(marker.position.lat(),marker.position.lng());
start=new google.maps.LatLng(marker1.position.lat(),marker1.position.lng());b.route({origin:start,destination:end,travelMode:google.maps.TravelMode[c]},function(e,d){if(d==google.maps.DirectionsStatus.OK){a.setDirections(e);
}else{window.alert("Directions request failed due to "+d);}});}function handleLocationError(a,b,c){b.setPosition(c);b.setContent(a?"Error: The Geolocation service failed.":"Error: Your browser doesn't support geolocation.");
}