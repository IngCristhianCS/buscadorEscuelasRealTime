function anular(a){tecla=(document.all)?a.keyCode:a.which;return(tecla!=13);}var map;var fenway;function inicializa(){var f=parseFloat(document.getElementById("latitud").value);
var d=parseFloat(document.getElementById("longitud").value);var g=parseFloat(document.getElementById("heading").value);var a=parseFloat(document.getElementById("pitch").value);
fenway={lat:f,lng:d};map=new google.maps.Map(document.getElementById("map"),{center:fenway,scrollwheel:false,zoom:12,mapTypeControlOptions:{position:google.maps.ControlPosition.BOTTOM_LEFT}});
var c=new google.maps.StreetViewPanorama(document.getElementById("pano"),{position:fenway,zoom:1,scrollwheel:false,pov:{heading:g,pitch:a,}});map.setStreetView(c);
var e=document.getElementById("save-widget");map.controls[google.maps.ControlPosition.TOP_LEFT].push(e);c.addListener("pano_changed",function(){var i=document.getElementById("pano-cell");
i.innerHTML=c.getPano();});c.addListener("links_changed",function(){var j=document.getElementById("links_table");while(j.hasChildNodes()){j.removeChild(j.lastChild);
}var k=c.getLinks();for(var l in k){var o=document.createElement("tr");j.appendChild(o);var n=document.createElement("td");n.innerHTML="<b>Link: "+l+"</b>";
var m=document.createElement("td");m.innerHTML=k[l].description;j.appendChild(n);j.appendChild(m);}});c.addListener("position_changed",function(){var i=document.getElementById("position-cell");
i.firstChild.nodeValue=c.getPosition()+"";document.getElementById("latitud").value=c.getPosition().lat();document.getElementById("longitud").value=c.getPosition().lng();
});c.addListener("pov_changed",function(){document.getElementById("heading").value=c.getPov().heading;document.getElementById("pitch").value=c.getPov().pitch;
});var b=document.getElementById("pac-input");var h=new google.maps.places.SearchBox(b);map.controls[google.maps.ControlPosition.TOP_LEFT].push(b);map.addListener("bounds_changed",function(){h.setBounds(map.getBounds());
});h.addListener("places_changed",function(){var i=h.getPlaces();if(i.length==0){return;}var j=new google.maps.LatLngBounds();i.forEach(function(k){var l={url:k.icon,size:new google.maps.Size(71,71),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(17,34),scaledSize:new google.maps.Size(25,25)};
c=new google.maps.StreetViewPanorama(document.getElementById("pano"),{position:k.geometry.location,zoom:1,scrollwheel:false,pov:{heading:0,pitch:0,}});
map.setStreetView(c);if(k.geometry.viewport){j.union(k.geometry.viewport);}else{j.extend(k.geometry.location);}});map.fitBounds(j);});}